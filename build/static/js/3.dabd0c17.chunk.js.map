{"version":3,"sources":["hoc/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/MyPost/MyPost.module.css","components/Profile/MyPost/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPost/Post/Post.jsx","components/Profile/MyPost/MyPost.jsx","components/Profile/MyPost/MyPostContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsFoRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Post","className","s","src","alt","message","MyPost","memo","postsElements","posts","map","p","likesCount","postBlock","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","Field","name","component","Textarea","placeholder","validate","required","MyPostContainer","profilePage","NewPostText","dispatch","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profile","userPhoto","photos","large","Preloader","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","getUserProfile","getStatus","compose","id","withRouter"],"mappings":"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","file":"static/js/3.dabd0c17.chunk.js","sourcesContent":["import React from 'react';\r\nimport {\r\n    connect\r\n} from \"react-redux\";\r\nimport {\r\n    Redirect\r\n} from 'react-router-dom';\r\n\r\nlet mapStateToPropsFoRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to = '/login' / >\r\n                return <Component {\r\n                    ...this.props\r\n                }\r\n            />\r\n        }\r\n    }\r\n\r\n    let ConnectAuthRedirectComponent = connect(mapStateToPropsFoRedirect)(RedirectComponent);\r\n\r\n    return ConnectAuthRedirectComponent;\r\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MyPost\":\"MyPost_MyPost__3XGkp\",\"addPost\":\"MyPost_addPost__P2I7v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__3r_rY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"ProfileInfo_userPhoto__2OIge\"};","import React from 'react';\r\nimport s from './Post.module.css';\r\nconst Post = (props) => {\r\n\r\n        return (\r\n            <div className={s.Post} >\r\n                <img src='https://img2.freepng.ru/20171128/22b/blue-butterfly-png-clip-art-5a1cf7c97ff329.4428226815118478815241.jpg' alt=\"\"/>\r\n                    {props.message}\r\n                    <div><span>like</span></div>\r\n\r\n            </div>\r\n        );}\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPost.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {reduxForm, Field} from 'redux-form';\r\nimport {required, maxLengthCreator} from './../../../utils/validators/validators';\r\nimport {Textarea} from './../../../components/common/FormsControls/FormsControls';\r\n\r\nconst MyPost = React.memo(props => {\r\n    let postsElements = props.posts\r\n        .map(p => <Post message={p.message} likesCount={p.likesCount}/>);\r\n\r\n    let onAddPost = (values) => {\r\n       props.addPost (values.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={s.postBlock}>\r\n            <h3>My posts :</h3>\r\n            <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n            <div className={s.MyPost}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field name=\"newPostText\" component={Textarea} placeholder=\"react.js\"\r\n                    validate={[required, maxLength10]}/>\r\n                </div>\r\n                <div>\r\n                    <button className={s.addPost}>Add post</button>\r\n                </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm ({form: \"ProfileAddNewPostForm\"}) (AddNewPostForm);\r\n\r\nexport default MyPost;","import {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPost from './MyPost';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.NewPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostContainer = connect (mapStateToProps, mapDispatchToProps) (MyPost);\r\n\r\nexport default MyPostContainer;","import React, { useState, useEffect } from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            { !editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || \"---\"}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}\r\n                        value={status} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {/* <img src='https://st.depositphotos.com/1653005/3084/i/950/depositphotos_30840689-stock-photo-modern-building.jpg' alt=''/> */}\r\n                {/* <img src='https://krot.info/uploads/posts/2020-01/thumbs/1579563415_3-p-foni-s-molniyami-6.jpg' alt=''/> */}\r\n            </div>\r\n            <div className= {s.userPhoto}>\r\n                <img src={profile.photos.large} alt=\"\"/>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default ProfileInfo;","import React from 'react';\r\nimport MyPostsContainer from \"./MyPost/MyPostContainer.jsx\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getStatus, updateStatus} from \"../../redux/profile-reducer\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {withAuthRedirect} from './../../hoc/withAuthRedirect';\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    \r\n    componentDidMount () {\r\n\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push (\"/login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n    render () {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props} \r\n                    profile={this.props.profile} \r\n                    status={this.props.status} \r\n                    updateStatus={this.props.updateStatus}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose (\r\n    connect (mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}